{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\nquery\\n{\\n  orders(first: 1) {\\n      edges\\t{\\n        cursor\\n        node {\\n          name\\n          note\\n        }\\n          }\\n  }\\n}\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\nquery getNotes($numOrders: Int)\\n{\\n  orders(first: $numOrders) {\\n      edges\\t{\\n        cursor\\n        node {\\n          name\\n          note\\n        }\\n          }\\n  }\\n}\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\nquery getNotes($endNumOrders: Int, $cursor: String)\\n{\\n  orders(first: $endNumOrders, after: $cursor) {\\n      edges\\t{\\n        node\\t{\\n          name\\n          note\\n                  }\\n          }\\n  }\\n}\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport gql from 'graphql-tag';\nimport React, { Component, Fragment } from 'react';\nimport { Query } from 'react-apollo';\nimport { Card } from '@shopify/polaris';\nimport store from 'store-js';\nvar GET_PRODUCTS_BY_ID = gql(_templateObject());\nvar GET_START_CURSOR = gql(_templateObject2());\nvar GET_START_INFO = gql(_templateObject3());\n\nvar ResourceListWithProducts = /*#__PURE__*/function (_React$Component) {\n  _inherits(ResourceListWithProducts, _React$Component);\n\n  var _super = _createSuper(ResourceListWithProducts);\n\n  function ResourceListWithProducts() {\n    _classCallCheck(this, ResourceListWithProducts);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ResourceListWithProducts, [{\n    key: \"render\",\n    value: function render() {\n      //*important! Where cursor data of the start index is stored\n      var cursorData = '';\n      var firstNote = '';\n      var firstName = '';\n      return __jsx(\"div\", null, __jsx(Query, {\n        query: GET_START_INFO,\n        variables: {}\n      }, function (_ref) {\n        var data = _ref.data,\n            loading = _ref.loading,\n            error = _ref.error;\n        var startRangeInt = parseInt(store.get('startRangeInt'), 10);\n        if (loading) return __jsx(\"div\", null, \"Loading\\u2026\");\n        if (error) return __jsx(\"div\", null, error.message);\n\n        if (startRangeInt == 0) {\n          console.log(data);\n          cursorData = data.orders.edges[0].cursor;\n          firstName = data.orders.edges[0].node.name;\n          firstNote = data.orders.edges[0].node.note;\n          console.log(cursorData);\n          store.set('cursorInfo', cursorData.toString());\n        }\n\n        return __jsx(Card, null);\n      }), __jsx(Query, {\n        query: GET_START_CURSOR,\n        variables: {\n          numOrders: parseInt(store.get('startRangeInt'), 10)\n        }\n      }, function (_ref2) {\n        var data = _ref2.data,\n            loading = _ref2.loading,\n            error = _ref2.error;\n        var startRangeInt = parseInt(store.get('startRangeInt'), 10);\n        console.log(startRangeInt);\n        console.log(data);\n        if (loading) return __jsx(\"div\", null, \"Loading\\u2026\");\n        if (error) return __jsx(\"div\", null, error.message); //startRangeInt - 1 if startRangeInt is 1 will be 0. The first index\n        //startRangeInt cannot be equal to 0\n\n        if (startRangeInt != 0) {\n          cursorData = data.orders.edges[startRangeInt - 1].cursor;\n          console.log(cursorData);\n          console.log(data.orders.edges[startRangeInt - 1].node.name);\n          store.set('cursorInfo', cursorData.toString());\n        } else {\n          console.log(\"start range entered was 0. Will add first order on top of desired number of orders to process\");\n        }\n\n        return __jsx(Card, null);\n      }), __jsx(Query, {\n        query: GET_PRODUCTS_BY_ID,\n        variables: {\n          endNumOrders: parseInt(store.get('endRangeInt'), 10),\n          cursor: store.get('cursorInfo')\n        }\n      }, function (_ref3) {\n        var data = _ref3.data,\n            loading = _ref3.loading,\n            error = _ref3.error;\n        var endNumOrder = parseInt(store.get('endRangeInt'), 10);\n        var contents = [];\n        console.log(data);\n        var i = 0;\n        var startRangeInt = store.get('startRangeInt');\n\n        if (startRangeInt == 0) {\n          contents.push(firstNote);\n          contents.push(firstName);\n        }\n\n        function loop(i) {\n          if (i < endNumOrder) {\n            //push first element of data onto contents\n            //\n            if (data.orders.edges[i].node.note == '') {\n              console.log('*empty*');\n            } else {\n              console.log(data.orders.edges[i].node.note);\n            }\n\n            contents.push(data.orders.edges[i].node.note);\n            contents.push(data.orders.edges[i].node.name);\n            loop(i + 1);\n          } else {\n            console.log('Finished Reading!');\n          }\n\n          store.set('contents', contents);\n        }\n\n        if (loading) return __jsx(\"div\", null, \"Loading\\u2026\"); //console.log(store.get('endRangeInt'))\n\n        console.log('Number of orders to go to: ' + endNumOrder);\n        if (error) return __jsx(\"div\", null, error.message);\n        loop(i);\n        console.log(contents); //console.log(data);\n\n        return __jsx(Card, null);\n      }));\n    }\n  }]);\n\n  return ResourceListWithProducts;\n}(React.Component);\n\nexport default ResourceListWithProducts;","map":{"version":3,"sources":["C:/Users/erica/Documents/College4Sq/Notes-From-Orders-Shopify-App/components/ResourceList.js"],"names":["gql","React","Component","Fragment","Query","Card","store","GET_PRODUCTS_BY_ID","GET_START_CURSOR","GET_START_INFO","ResourceListWithProducts","cursorData","firstNote","firstName","data","loading","error","startRangeInt","parseInt","get","message","console","log","orders","edges","cursor","node","name","note","set","toString","numOrders","endNumOrders","endNumOrder","contents","i","push","loop"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,GAAP,MAAgB,aAAhB;AACA,OAAOC,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAASC,KAAT,QAAsB,cAAtB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEA,IAAMC,kBAAkB,GAAGP,GAAH,mBAAxB;AAcA,IAAMQ,gBAAgB,GAAGR,GAAH,oBAAtB;AAeA,IAAMS,cAAc,GAAGT,GAAH,oBAApB;;IAeMU,wB;;;;;;;;;;;;;6BACK;AACP;AACA,UAAIC,UAAU,GAAG,EAAjB;AACA,UAAIC,SAAS,GAAG,EAAhB;AACA,UAAIC,SAAS,GAAG,EAAhB;AAEA,aACF,mBACI,MAAC,KAAD;AAAO,QAAA,KAAK,EAAEJ,cAAd;AAA8B,QAAA,SAAS,EAAE;AAAzC,SACC,gBAA8B;AAAA,YAA3BK,IAA2B,QAA3BA,IAA2B;AAAA,YAArBC,OAAqB,QAArBA,OAAqB;AAAA,YAAZC,KAAY,QAAZA,KAAY;AAC7B,YAAMC,aAAa,GAAGC,QAAQ,CAACZ,KAAK,CAACa,GAAN,CAAU,eAAV,CAAD,EAA6B,EAA7B,CAA9B;AACA,YAAIJ,OAAJ,EAAa,OAAO,mCAAP;AACb,YAAIC,KAAJ,EAAW,OAAO,mBAAMA,KAAK,CAACI,OAAZ,CAAP;;AACX,YAAGH,aAAa,IAAI,CAApB,EACA;AACEI,UAAAA,OAAO,CAACC,GAAR,CAAYR,IAAZ;AACAH,UAAAA,UAAU,GAAGG,IAAI,CAACS,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBC,MAAlC;AACAZ,UAAAA,SAAS,GAAGC,IAAI,CAACS,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBE,IAArB,CAA0BC,IAAtC;AACAf,UAAAA,SAAS,GAAGE,IAAI,CAACS,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBE,IAArB,CAA0BE,IAAtC;AACAP,UAAAA,OAAO,CAACC,GAAR,CAAYX,UAAZ;AACAL,UAAAA,KAAK,CAACuB,GAAN,CAAU,YAAV,EAAwBlB,UAAU,CAACmB,QAAX,EAAxB;AACD;;AACD,eACE,MAAC,IAAD,OADF;AAID,OAlBD,CADJ,EAqBI,MAAC,KAAD;AAAO,QAAA,KAAK,EAAEtB,gBAAd;AAAgC,QAAA,SAAS,EAAE;AAACuB,UAAAA,SAAS,EAAEb,QAAQ,CAACZ,KAAK,CAACa,GAAN,CAAU,eAAV,CAAD,EAA6B,EAA7B;AAApB;AAA3C,SACC,iBAA8B;AAAA,YAA3BL,IAA2B,SAA3BA,IAA2B;AAAA,YAArBC,OAAqB,SAArBA,OAAqB;AAAA,YAAZC,KAAY,SAAZA,KAAY;AAC7B,YAAMC,aAAa,GAAGC,QAAQ,CAACZ,KAAK,CAACa,GAAN,CAAU,eAAV,CAAD,EAA6B,EAA7B,CAA9B;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAYL,aAAZ;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAYR,IAAZ;AACA,YAAIC,OAAJ,EAAa,OAAO,mCAAP;AACb,YAAIC,KAAJ,EAAW,OAAO,mBAAMA,KAAK,CAACI,OAAZ,CAAP,CALkB,CAM7B;AACA;;AACA,YAAGH,aAAa,IAAI,CAApB,EACA;AACEN,UAAAA,UAAU,GAAGG,IAAI,CAACS,MAAL,CAAYC,KAAZ,CAAkBP,aAAa,GAAG,CAAlC,EAAqCQ,MAAlD;AACAJ,UAAAA,OAAO,CAACC,GAAR,CAAYX,UAAZ;AACAU,UAAAA,OAAO,CAACC,GAAR,CAAYR,IAAI,CAACS,MAAL,CAAYC,KAAZ,CAAkBP,aAAa,GAAG,CAAlC,EAAqCS,IAArC,CAA0CC,IAAtD;AACArB,UAAAA,KAAK,CAACuB,GAAN,CAAU,YAAV,EAAwBlB,UAAU,CAACmB,QAAX,EAAxB;AACD,SAND,MAQA;AACET,UAAAA,OAAO,CAACC,GAAR,CAAY,+FAAZ;AACD;;AACD,eACE,MAAC,IAAD,OADF;AAID,OAxBD,CArBJ,EA+CI,MAAC,KAAD;AAAO,QAAA,KAAK,EAAEf,kBAAd;AAAkC,QAAA,SAAS,EAAE;AAAEyB,UAAAA,YAAY,EAAEd,QAAQ,CAACZ,KAAK,CAACa,GAAN,CAAU,aAAV,CAAD,EAA2B,EAA3B,CAAxB;AAAyDM,UAAAA,MAAM,EAAEnB,KAAK,CAACa,GAAN,CAAU,YAAV;AAAjE;AAA7C,SACG,iBAA8B;AAAA,YAA3BL,IAA2B,SAA3BA,IAA2B;AAAA,YAArBC,OAAqB,SAArBA,OAAqB;AAAA,YAAZC,KAAY,SAAZA,KAAY;AAC7B,YAAIiB,WAAW,GAAGf,QAAQ,CAACZ,KAAK,CAACa,GAAN,CAAU,aAAV,CAAD,EAA2B,EAA3B,CAA1B;AACA,YAAIe,QAAQ,GAAG,EAAf;AACAb,QAAAA,OAAO,CAACC,GAAR,CAAYR,IAAZ;AACA,YAAIqB,CAAC,GAAG,CAAR;AACA,YAAMlB,aAAa,GAAGX,KAAK,CAACa,GAAN,CAAU,eAAV,CAAtB;;AAEA,YAAGF,aAAa,IAAI,CAApB,EACA;AACEiB,UAAAA,QAAQ,CAACE,IAAT,CAAcxB,SAAd;AACAsB,UAAAA,QAAQ,CAACE,IAAT,CAAcvB,SAAd;AACD;;AAED,iBAASwB,IAAT,CAAcF,CAAd,EAAiB;AACf,cAAGA,CAAC,GAAIF,WAAR,EAAqB;AACnB;AACA;AACA,gBAAGnB,IAAI,CAACS,MAAL,CAAYC,KAAZ,CAAkBW,CAAlB,EAAqBT,IAArB,CAA0BE,IAA1B,IAAkC,EAArC,EACA;AACEP,cAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACD,aAHD,MAGO;AACLD,cAAAA,OAAO,CAACC,GAAR,CAAYR,IAAI,CAACS,MAAL,CAAYC,KAAZ,CAAkBW,CAAlB,EAAqBT,IAArB,CAA0BE,IAAtC;AACD;;AACDM,YAAAA,QAAQ,CAACE,IAAT,CAActB,IAAI,CAACS,MAAL,CAAYC,KAAZ,CAAkBW,CAAlB,EAAqBT,IAArB,CAA0BE,IAAxC;AACAM,YAAAA,QAAQ,CAACE,IAAT,CAActB,IAAI,CAACS,MAAL,CAAYC,KAAZ,CAAkBW,CAAlB,EAAqBT,IAArB,CAA0BC,IAAxC;AACAU,YAAAA,IAAI,CAACF,CAAC,GAAG,CAAL,CAAJ;AACD,WAZD,MAYO;AACLd,YAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACD;;AACDhB,UAAAA,KAAK,CAACuB,GAAN,CAAU,UAAV,EAAsBK,QAAtB;AACD;;AAED,YAAInB,OAAJ,EAAa,OAAO,mCAAP,CAhCgB,CAiC7B;;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAY,gCAAgCW,WAA5C;AACA,YAAIjB,KAAJ,EAAW,OAAO,mBAAMA,KAAK,CAACI,OAAZ,CAAP;AACXiB,QAAAA,IAAI,CAACF,CAAD,CAAJ;AACAd,QAAAA,OAAO,CAACC,GAAR,CAAYY,QAAZ,EArC6B,CAsC7B;;AACA,eACE,MAAC,IAAD,OADF;AAKD,OA7CH,CA/CJ,CADE;AAiGD;;;;EAxGoCjC,KAAK,CAACC,S;;AA2G5C,eAAeQ,wBAAf","sourcesContent":["import gql from 'graphql-tag';\r\nimport React, {Component, Fragment} from 'react'\r\nimport { Query } from 'react-apollo';\r\nimport { Card } from '@shopify/polaris';\r\nimport store from 'store-js';\r\n\r\nconst GET_PRODUCTS_BY_ID = gql`\r\nquery getNotes($endNumOrders: Int, $cursor: String)\r\n{\r\n  orders(first: $endNumOrders, after: $cursor) {\r\n      edges\t{\r\n        node\t{\r\n          name\r\n          note\r\n                  }\r\n          }\r\n  }\r\n}\r\n`;\r\n\r\nconst GET_START_CURSOR = gql`\r\nquery getNotes($numOrders: Int)\r\n{\r\n  orders(first: $numOrders) {\r\n      edges\t{\r\n        cursor\r\n        node {\r\n          name\r\n          note\r\n        }\r\n          }\r\n  }\r\n}\r\n`;\r\n\r\nconst GET_START_INFO = gql`\r\nquery\r\n{\r\n  orders(first: 1) {\r\n      edges\t{\r\n        cursor\r\n        node {\r\n          name\r\n          note\r\n        }\r\n          }\r\n  }\r\n}\r\n`;\r\n\r\nclass ResourceListWithProducts extends React.Component {\r\n  render() {\r\n    //*important! Where cursor data of the start index is stored\r\n    var cursorData = '';\r\n    var firstNote = ''\r\n    var firstName = ''\r\n\r\n    return (\r\n  <div>\r\n      <Query query={GET_START_INFO} variables={{}}>\r\n      {({ data, loading, error }) => {\r\n        const startRangeInt = parseInt(store.get('startRangeInt'), 10)\r\n        if (loading) return <div>Loading…</div>;\r\n        if (error) return <div>{error.message}</div>;\r\n        if(startRangeInt == 0)\r\n        {\r\n          console.log(data)\r\n          cursorData = data.orders.edges[0].cursor\r\n          firstName = data.orders.edges[0].node.name\r\n          firstNote = data.orders.edges[0].node.note\r\n          console.log(cursorData)\r\n          store.set('cursorInfo', cursorData.toString())\r\n        }\r\n        return (\r\n          <Card>\r\n          </Card>\r\n        );\r\n      }}\r\n    </Query>\r\n      <Query query={GET_START_CURSOR} variables={{numOrders: parseInt(store.get('startRangeInt'), 10)}}>\r\n      {({ data, loading, error }) => {\r\n        const startRangeInt = parseInt(store.get('startRangeInt'), 10)\r\n        console.log(startRangeInt)\r\n        console.log(data)\r\n        if (loading) return <div>Loading…</div>;\r\n        if (error) return <div>{error.message}</div>;\r\n        //startRangeInt - 1 if startRangeInt is 1 will be 0. The first index\r\n        //startRangeInt cannot be equal to 0\r\n        if(startRangeInt != 0)\r\n        {\r\n          cursorData = data.orders.edges[startRangeInt - 1].cursor\r\n          console.log(cursorData)\r\n          console.log(data.orders.edges[startRangeInt - 1].node.name)\r\n          store.set('cursorInfo', cursorData.toString())\r\n        }\r\n        else\r\n        {\r\n          console.log(\"start range entered was 0. Will add first order on top of desired number of orders to process\")\r\n        }\r\n        return (\r\n          <Card>\r\n          </Card>\r\n        );\r\n      }}\r\n    </Query>\r\n      <Query query={GET_PRODUCTS_BY_ID} variables={{ endNumOrders: parseInt(store.get('endRangeInt'), 10) , cursor: store.get('cursorInfo') }}>\r\n        {({ data, loading, error }) => {\r\n          var endNumOrder = parseInt(store.get('endRangeInt'), 10)\r\n          var contents = [];\r\n          console.log(data)\r\n          var i = 0\r\n          const startRangeInt = store.get('startRangeInt')\r\n          \r\n          if(startRangeInt == 0)\r\n          {\r\n            contents.push(firstNote)\r\n            contents.push(firstName)\r\n          }\r\n\r\n          function loop(i) {\r\n            if(i < (endNumOrder)){\r\n              //push first element of data onto contents\r\n              //\r\n              if(data.orders.edges[i].node.note == '')\r\n              {\r\n                console.log('*empty*')\r\n              } else {\r\n                console.log(data.orders.edges[i].node.note)\r\n              }\r\n              contents.push(data.orders.edges[i].node.note)\r\n              contents.push(data.orders.edges[i].node.name)\r\n              loop(i + 1)\r\n            } else {\r\n              console.log('Finished Reading!');\r\n            }\r\n            store.set('contents', contents)\r\n          }\r\n\r\n          if (loading) return <div>Loading…</div>;\r\n          //console.log(store.get('endRangeInt'))\r\n          console.log('Number of orders to go to: ' + endNumOrder);\r\n          if (error) return <div>{error.message}</div>;\r\n          loop(i)\r\n          console.log(contents)\r\n          //console.log(data);\r\n          return (\r\n            <Card>\r\n\r\n            </Card>\r\n          );\r\n        }}\r\n      </Query>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\n export default ResourceListWithProducts;\r\n"]},"metadata":{},"sourceType":"module"}